(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[316],{6086:(e,a,t)=>{Promise.resolve().then(t.bind(t,8342))},8342:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i});var l=t(5155),n=t(5012),s=t.n(n),_=t(2115);function i(){let[e,a]=(0,_.useState)({title:"",date:"",excerpt:"",content:"",thumbnail:null}),t=t=>{a({...e,[t.target.name]:t.target.value})},n=async a=>{a.preventDefault();let t=new FormData;t.append("title",e.title),t.append("date",e.date),t.append("excerpt",e.excerpt),t.append("content",e.content),e.thumbnail&&t.append("thumbnail",e.thumbnail);try{let e=await fetch("/api/savepost",{method:"POST",body:t});if(e.ok)alert("Post saved successfully!");else{let a=await e.json();console.error("Error:",a),alert("Failed to save post: ".concat(a.error||"Unknown error"))}}catch(e){console.error("Error submitting form:",e),alert("An error occurred while saving the post.")}};return(0,l.jsxs)("div",{className:s().create_blogmain_container,children:[(0,l.jsx)("h1",{className:"text-2xl font-bold",children:"Create a New Blog Post"}),(0,l.jsxs)("form",{onSubmit:n,className:"mt-4 space-y-4",children:[(0,l.jsxs)("div",{className:s().create_formdiv,children:[(0,l.jsx)("label",{className:s().create_labels,children:"Title"}),(0,l.jsx)("input",{type:"text",name:"title",value:e.title,onChange:t,className:s().createlable_text,required:!0})]}),(0,l.jsxs)("div",{className:s().create_formdiv,children:[(0,l.jsx)("label",{className:s().create_labels,children:"Date"}),(0,l.jsx)("input",{type:"date",name:"date",value:e.date,onChange:t,className:s().createlable_text,required:!0})]}),(0,l.jsxs)("div",{className:s().create_formdiv,children:[(0,l.jsx)("label",{className:s().create_labels,children:"Excerpt"}),(0,l.jsx)("input",{type:"text",name:"excerpt",value:e.excerpt,onChange:t,className:s().createlable_text})]}),(0,l.jsxs)("div",{className:s().create_formdiv,children:[(0,l.jsx)("label",{className:s().create_labels,children:"Content"}),(0,l.jsx)("textarea",{name:"content",value:e.content,onChange:t,className:s().createlable_text,rows:8,required:!0})]}),(0,l.jsxs)("div",{className:s().create_formdiv,children:[(0,l.jsx)("label",{htmlFor:"thumbnail",className:s().formLabel,children:"Thumbnail"}),(0,l.jsx)("input",{type:"file",id:"thumbnail",name:"thumbnail",onChange:t=>{if(t.target.files&&t.target.files[0]){let l=t.target.files[0];if(!l.type.startsWith("image/")){alert("Please upload a valid image file.");return}if(l.size>5242880){alert("File size must be less than 5MB.");return}a({...e,thumbnail:l})}},className:s().formFileInput})]}),(0,l.jsx)("div",{className:s().create_formdiv,children:(0,l.jsx)("button",{type:"submit",className:s().save_btn,children:"Save Post"})})]})]})}},5012:e=>{e.exports={footer_container_div:"main_style_footer_container_div__yjcJE",icon_main_div:"main_style_icon_main_div__pIsJo",icon_class:"main_style_icon_class__uE5N5",description_div:"main_style_description_div__UphAv",header_main_div:"main_style_header_main_div__eN3Pp",company_name:"main_style_company_name__Zy4AM",header_options:"main_style_header_options__yA1hb",company_name_div:"main_style_company_name_div__zZlLs",layoutheader:"main_style_layoutheader__TL6ql",create_blog_div:"main_style_create_blog_div__HUkFR",createBlog_table:"main_style_createBlog_table__8GaEf",input_field:"main_style_input_field__mQ_59",create_formdiv:"main_style_create_formdiv__Rt_dt",create_labels:"main_style_create_labels__0rQJu",createlable_text:"main_style_createlable_text__aMHVu",save_btn:"main_style_save_btn__C8WBg",create_blogmain_container:"main_style_create_blogmain_container__BOIDz",layout_main_div:"main_style_layout_main_div__gMKrG"}}},e=>{var a=a=>e(e.s=a);e.O(0,[563,441,517,358],()=>a(6086)),_N_E=e.O()}]);